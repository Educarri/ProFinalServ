<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <head>
        <title>Modificar Usuario</title>
        <meta charset="UTF-8">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link href="/css/cliente_modificar.css" rel="stylesheet" type="text/css"/>
        <link href="/css/errorexito.css" rel="stylesheet" type="text/css"/>
        <link rel="icon" href="/img/logo.png" type="image">

    </head>

    <body>
        <header>
            <nav th:replace="/fragments/navbar :: nav"></nav> 
        </header> 
        <div th:if="${session.error != null}" class="mensajeError">
            <div class="bloque">
                <h5 class="texto-error">Error!</h5>
                <p class="texto-error-mensaje" th:text="${session.error}"></p>
            </div> 
        </div>
        <section>

            <div>
                <div class="LoginBox">
                    <div class="LoginContainer">
                        <div class="LoginForm">
                            <h2>Modificar Perfil del Cliente</h2>
                            <form th:action="@{/cliente/modificar/__${user?.id}__}" method="POST">

                                <div class="inputBox">

                                    <input hidden type="text" name="id" th:value="${user.id}" >
                                    <input type="text" class="input" name="nombre" placeholder="Nombre" th:value= "${user.nombre}">
                                    <input type="text" class="input" name="apellido" placeholder="Apellido" th:value = "${user.apellido}">
                                    <input type="number" class="input" name="dni" placeholder="DNI" th:value = "${user.dni}">
                                    <input type="text" class="input" name="correo" placeholder="Correo Electronico" th:value = "${user.correo}">
                                    <input type="number" class="input" name="telefono" placeholder="Telefono" th:value = "${user.telefono}">
                                    <input type="text" class="input" name="direccion" placeholder="Direccion" th:value = "${user.direccion}">
                                    <input type="password" class="input" name="password" placeholder="Password" required="">


                                </div>
                                <button type="submit" class="btn-neon">Actualizar</button>
                            </form>

                            <a class="btn-neon" th:href="@{/cliente/modificarRolCliente/__${user.id}__}"><i class="fas fa-father-alt"></i> Cambiar Rol a Proveedor </a>
                           <a class="btn-neon" style="color: red" th:href="@{/cliente/darseBaja/__${user.id}__}"><i class="fas fa-father-alt"></i> Darse de Baja </a>
                        </div>
                    </div>


                    <a href="/inicio" style="margin: 0 auto">
                        <button class="btn-neon"> Volver </button>
                    </a>
                </div>
            </div>

            <div th:if="${error != null}" class="mensajeError">
                <h5>Error!</h5>
                <p th:text="${error}"></p>
            </div>

            <div th:if="${exito != null}" class="mensajeExito"> 
                <h5>Exito!</h5>
                <p th:text="${exito}"></p>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js">
            </script>
        </section>
    </body>

    <div>
        <footer th:replace="/fragments/footer :: footer"> </footer>
    </div>
</html>